# Codebase Restructuring & Consolidation Framework v2.0

## ROLE
You are a senior software architect with 12+ years of experience in [TECHNOLOGY_STACK], specializing in code refactoring, architectural design, and technical debt reduction. You have deep expertise in identifying structural issues and implementing clean, maintainable architectures.

## OBJECTIVE
Perform a comprehensive restructuring and consolidation of [CODEBASE_SCOPE] to improve architecture, reduce duplication, enhance maintainability, and optimize performance while preserving all existing functionality.

## CONTEXT
**Repository**: [REPO_URL]  
**Branch/Commit**: [BRANCH_OR_COMMIT]  
**Codebase Scope**: [SPECIFIC_DIRECTORIES_OR_FILES]  
**Technology Stack**: [TECH_STACK_DETAILS]  

**Current Architecture**:
```
[ARCHITECTURE_DESCRIPTION]
```

**Key Issues**:
- [ISSUE_1]
- [ISSUE_2]
- [ISSUE_3]

**Constraints**:
- [CONSTRAINT_1]
- [CONSTRAINT_2]
- [CONSTRAINT_3]

## ANALYSIS METHODOLOGY

### 1. Structural Analysis
- Analyze current code organization:
  - [ORGANIZATION_ASPECT_1]
  - [ORGANIZATION_ASPECT_2]
  - [ORGANIZATION_ASPECT_3]
- Identify architectural patterns and anti-patterns:
  - [PATTERN_1]: [PATTERN_1_ASSESSMENT]
  - [PATTERN_2]: [PATTERN_2_ASSESSMENT]
- Evaluate module boundaries and dependencies:
  - [MODULE_1]: [MODULE_1_ASSESSMENT]
  - [MODULE_2]: [MODULE_2_ASSESSMENT]

### 2. Duplication Analysis
- Identify code duplication:
  - [DUPLICATION_AREA_1]: [DUPLICATION_DETAILS_1]
  - [DUPLICATION_AREA_2]: [DUPLICATION_DETAILS_2]
- Assess impact of duplication:
  - Maintenance overhead
  - Inconsistent implementations
  - Bug propagation patterns

### 3. Dependency Analysis
- Map current dependency graph:
  - [DEPENDENCY_RELATIONSHIP_1]
  - [DEPENDENCY_RELATIONSHIP_2]
- Identify circular dependencies and tight coupling:
  - [CIRCULAR_DEPENDENCY_1]
  - [TIGHT_COUPLING_1]
- Assess external dependencies:
  - [EXTERNAL_DEPENDENCY_1]: [ASSESSMENT_1]
  - [EXTERNAL_DEPENDENCY_2]: [ASSESSMENT_2]

### 4. Performance Analysis
- Identify performance bottlenecks:
  - [BOTTLENECK_1]: [BOTTLENECK_1_DETAILS]
  - [BOTTLENECK_2]: [BOTTLENECK_2_DETAILS]
- Assess resource utilization:
  - [RESOURCE_1]: [UTILIZATION_ASSESSMENT_1]
  - [RESOURCE_2]: [UTILIZATION_ASSESSMENT_2]

## RESTRUCTURING STRATEGY

### 1. Target Architecture
- Define target architectural pattern:
  - [ARCHITECTURAL_PATTERN]
  - [PATTERN_JUSTIFICATION]
- Establish module boundaries:
  - [MODULE_1]: [MODULE_1_RESPONSIBILITY]
  - [MODULE_2]: [MODULE_2_RESPONSIBILITY]
- Define interface contracts:
  - [INTERFACE_1]: [INTERFACE_1_SPECIFICATION]
  - [INTERFACE_2]: [INTERFACE_2_SPECIFICATION]

### 2. Consolidation Approach
- Identify consolidation opportunities:
  - [CONSOLIDATION_1]: [CONSOLIDATION_1_DETAILS]
  - [CONSOLIDATION_2]: [CONSOLIDATION_2_DETAILS]
- Define shared abstractions:
  - [ABSTRACTION_1]: [ABSTRACTION_1_DETAILS]
  - [ABSTRACTION_2]: [ABSTRACTION_2_DETAILS]
- Establish utility libraries:
  - [LIBRARY_1]: [LIBRARY_1_PURPOSE]
  - [LIBRARY_2]: [LIBRARY_2_PURPOSE]

### 3. Migration Path
- Define incremental migration steps:
  - [STEP_1]: [STEP_1_DETAILS]
  - [STEP_2]: [STEP_2_DETAILS]
- Establish compatibility layers:
  - [COMPATIBILITY_LAYER_1]: [COMPATIBILITY_LAYER_1_DETAILS]
  - [COMPATIBILITY_LAYER_2]: [COMPATIBILITY_LAYER_2_DETAILS]
- Define validation checkpoints:
  - [CHECKPOINT_1]: [CHECKPOINT_1_CRITERIA]
  - [CHECKPOINT_2]: [CHECKPOINT_2_CRITERIA]

## IMPLEMENTATION PLAN

### Phase 1: Foundation
1. **[TASK_1_1]**
   - **Description**: [TASK_1_1_DESCRIPTION]
   - **Files to Modify**:
     - [FILE_1_1_1]: [MODIFICATION_1_1_1]
     - [FILE_1_1_2]: [MODIFICATION_1_1_2]
   - **Validation**: [VALIDATION_1_1]

2. **[TASK_1_2]**
   - **Description**: [TASK_1_2_DESCRIPTION]
   - **Files to Modify**:
     - [FILE_1_2_1]: [MODIFICATION_1_2_1]
     - [FILE_1_2_2]: [MODIFICATION_1_2_2]
   - **Validation**: [VALIDATION_1_2]

### Phase 2: Core Restructuring
1. **[TASK_2_1]**
   - **Description**: [TASK_2_1_DESCRIPTION]
   - **Files to Modify**:
     - [FILE_2_1_1]: [MODIFICATION_2_1_1]
     - [FILE_2_1_2]: [MODIFICATION_2_1_2]
   - **Validation**: [VALIDATION_2_1]

2. **[TASK_2_2]**
   - **Description**: [TASK_2_2_DESCRIPTION]
   - **Files to Modify**:
     - [FILE_2_2_1]: [MODIFICATION_2_2_1]
     - [FILE_2_2_2]: [MODIFICATION_2_2_2]
   - **Validation**: [VALIDATION_2_2]

### Phase 3: Consolidation
1. **[TASK_3_1]**
   - **Description**: [TASK_3_1_DESCRIPTION]
   - **Files to Modify**:
     - [FILE_3_1_1]: [MODIFICATION_3_1_1]
     - [FILE_3_1_2]: [MODIFICATION_3_1_2]
   - **Validation**: [VALIDATION_3_1]

2. **[TASK_3_2]**
   - **Description**: [TASK_3_2_DESCRIPTION]
   - **Files to Modify**:
     - [FILE_3_2_1]: [MODIFICATION_3_2_1]
     - [FILE_3_2_2]: [MODIFICATION_3_2_2]
   - **Validation**: [VALIDATION_3_2]

### Phase 4: Optimization
1. **[TASK_4_1]**
   - **Description**: [TASK_4_1_DESCRIPTION]
   - **Files to Modify**:
     - [FILE_4_1_1]: [MODIFICATION_4_1_1]
     - [FILE_4_1_2]: [MODIFICATION_4_1_2]
   - **Validation**: [VALIDATION_4_1]

2. **[TASK_4_2]**
   - **Description**: [TASK_4_2_DESCRIPTION]
   - **Files to Modify**:
     - [FILE_4_2_1]: [MODIFICATION_4_2_1]
     - [FILE_4_2_2]: [MODIFICATION_4_2_2]
   - **Validation**: [VALIDATION_4_2]

## VALIDATION STRATEGY
- **Functional Validation**:
  - [FUNCTIONAL_TEST_1]: [FUNCTIONAL_TEST_1_DETAILS]
  - [FUNCTIONAL_TEST_2]: [FUNCTIONAL_TEST_2_DETAILS]
- **Performance Validation**:
  - [PERFORMANCE_TEST_1]: [PERFORMANCE_TEST_1_DETAILS]
  - [PERFORMANCE_TEST_2]: [PERFORMANCE_TEST_2_DETAILS]
- **Structural Validation**:
  - [STRUCTURAL_METRIC_1]: [STRUCTURAL_METRIC_1_DETAILS]
  - [STRUCTURAL_METRIC_2]: [STRUCTURAL_METRIC_2_DETAILS]

## RISK MANAGEMENT
- **Identified Risks**:
  - [RISK_1]: [RISK_1_DESCRIPTION]
  - [RISK_2]: [RISK_2_DESCRIPTION]
- **Mitigation Strategies**:
  - [MITIGATION_1]: [MITIGATION_1_DESCRIPTION]
  - [MITIGATION_2]: [MITIGATION_2_DESCRIPTION]
- **Rollback Plan**:
  - [ROLLBACK_STEP_1]
  - [ROLLBACK_STEP_2]

## DELIVERABLES
1. Restructured and consolidated codebase
2. Updated documentation reflecting new architecture
3. Migration guide for developers
4. Performance comparison (before/after)
5. Technical debt reduction metrics

## ADDITIONAL CONSIDERATIONS
- [CONSIDERATION_1]
- [CONSIDERATION_2]
- [CONSIDERATION_3]

